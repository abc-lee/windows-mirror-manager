# 变更日志

所有显著变更都会在此文件中列出。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

## [1.2.0] - 2026-02-27

### 新增
- 全新玻璃拟态UI设计（PyQt6框架）
- 裂纹关闭按钮动画效果
- 玻璃按钮发光动画效果

### 变更
- Pip 配置改用环境变量 `PIP_INDEX_URL`（优先级最高）
- HuggingFace 配置改用环境变量 `HF_ENDPOINT`
- 智能清理所有可能位置的旧配置
- 新增镜像源：中科大(Git)、中科大/豆瓣/北外(Pip)

### 修复
- 修复线程通信问题（QTimer.singleShot 改为 pyqtSignal）
- 修复 HuggingFace 配置读取问题（添加注册表读取）
- 修复启动时配置加载问题
- 修复缺少 mirrors.json 时的错误提示

---

## [1.1.4] - 2026-02-24

### 修复（关键）
- 修复应用按钮多次应用后不生效的问题
- **添加智能修复功能**：每次应用配置前自动清理所有旧环境配置
  - 清理 Git 全局 url.* 配置
  - 清理 Pip 全局配置文件
  - 清理 HuggingFace 注册表环境变量
  - 确保环境统一，避免配置冲突

---

## [1.1.3] - 2026-02-24

### 修复
- 修复启动报错 `_get_hf_url` 方法丢失的问题
- 修复重复方法定义导致的语法错误

---

## [1.1.2] - 2026-02-24

### 修复
- 修复 Git 配置清理失败的问题（原命令不支持正则表达式）
- 修复 Git 配置读取总是返回第一个配置的问题（现在返回最后一个）
- 修复 HF 下拉菜单为空的问题（键名从 huggingface 改为 hf）
- 修复应用按钮与下方状态显示不同步的问题，现在下拉框会自动同步当前配置

---

## [1.1.1] - 2026-02-24

### 修复
- 修复 Git 配置重启后读取失败的问题（正则表达式解析错误）

---

## [1.1.0] - 2026-02-24

### 修复
- 修复 HuggingFace 配置重启后失效的问题，现在写入系统环境变量重启持久
- 修复 HF 下拉菜单为空的问题（键名从 huggingface 改为 hf）

---

## [1.0.0] - 2026-02-24

### 新增
- 初始版本发布
- 玻璃拟态UI设计（浅色主题、圆角20px）
- Git镜像管理（阿里云、腾讯云、华为云）
- Pip镜像管理（阿里云、清华、腾讯云、华为云）
- HuggingFace镜像管理
- 镜像连接测试功能（显示延时ms）
- 应用配置功能
- 清理用户级和虚拟环境配置
- 选择"原始"时清空所有镜像配置
- 外部JSON配置文件支持
- 单EXE打包
